language: objective-c

matrix:
  include:
    - env: OSX=10.11
      os: osx
      osx_image: osx10.11
    - env: OSX=10.10
      os: osx
      osx_image: xcode7.1
    - env: OSX=10.9
      os: osx
      osx_image: beta-xcode6.2

before_install:
  - brew update > /dev/null || brew update > /dev/null

install:
  - mkdir -p $(brew --repo)/Library/Taps/dartsim
  - ln -s $PWD $(brew --repo)/Library/Taps/dartsim/homebrew-dart
  - brew tap --repair

script:
  - brew audit `ls $(brew --repo)/Library/Taps/dartsim/homebrew-dart/*.rb`
  - brew style `ls $(brew --repo)/Library/Taps/dartsim/homebrew-dart/*.rb`
  - brew fetch `ls $(brew --repo)/Library/Taps/dartsim/homebrew-dart/*.rb` | grep -v '%$'
  - brew unpack --patch `ls $(brew --repo)/Library/Taps/dartsim/homebrew-dart/*.rb`

